<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MobileDragon reference manual.: BtNetwork Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.3 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<b>mdragon</b>::<a class="el" href="classmdragon_1_1_bt_network.html">BtNetwork</a></div>
<h1>BtNetwork Class Reference</h1><!-- doxytag: class=<mdragon::BtNetwork> -->Main Bluetooth networking support class.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;btnetwork.h&gt;</code>
<p>
<a href="classmdragon_1_1_bt_network-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdragon_1_1_bt_network.html#a1">Init</a> (const <a class="el" href="structmdragon_1_1_bt_u_u_i_d.html">BtUUID</a> *app_uuid)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes bluetooth.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdragon_1_1_bt_network.html#a2">StartSlave</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Switches bluetooth into slave mode.  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdragon_1_1_bt_network.html#a3">StartMaster</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Switches bluetooth into master mode.  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdragon_1_1_bt_network.html#a4">StartDiscoverSlaves</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Starts slave devices discovery sequence.  <a href="#a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdragon_1_1_bt_network.html#a5">GetDiscoveredSlaves</a> (<a class="el" href="classmdragon_1_1vector.html">vector</a>&lt; <a class="el" href="structmdragon_1_1_bt_host.html">BtHost</a> &gt; *hosts)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enumerates hosts, found during slave discovery.  <a href="#a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classmdragon_1_1_i_bt_connection.html">IBtConnection</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdragon_1_1_bt_network.html#a6">GetInboundConnection</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrives inbound connection.  <a href="#a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classmdragon_1_1_i_bt_connection.html">IBtConnection</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdragon_1_1_bt_network.html#a7">ConnectSlave</a> (const <a class="el" href="structmdragon_1_1_bt_host.html">BtHost</a> &amp;remote_host)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Starts connection establishement.  <a href="#a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdragon_1_1_bt_network.html#a8">CloseConnection</a> (<a class="el" href="classmdragon_1_1_i_bt_connection.html">IBtConnection</a> *connection)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disconnects and closes specified connection.  <a href="#a8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdragon_1_1_bt_network.html#a9">StartShutdown</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Starts bluetooth system shutdown.  <a href="#a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdragon_1_1_bt_network.html#a10">IsShutdownComplete</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verifies if bluetooth system shutdown is finished.  <a href="#a10"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Main Bluetooth networking support class. 
<p>
Manages Bluetooth SDP discovery, advertisement and connection establishement. You don't have to create instances of <a class="el" href="classmdragon_1_1_bt_network.html">BtNetwork</a> by yourself, use btnet member of <a class="el" href="classmdragon_1_1_system.html">System</a> object instead.
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a8"></a><!-- doxytag: member=<mdragon::BtNetwork::CloseConnection> ref=<a8> args=<(IBtConnection *connection)> --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void CloseConnection           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classmdragon_1_1_i_bt_connection.html">IBtConnection</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>connection</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Disconnects and closes specified connection. 
<p>
Pointer to connection is no longer valid and should not be used any more. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connection</em>&nbsp;</td><td>- pointer to connection to close.</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a7"></a><!-- doxytag: member=<mdragon::BtNetwork::ConnectSlave> ref=<a7> args=<(const BtHost &amp;remote_host)> --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classmdragon_1_1_i_bt_connection.html">IBtConnection</a>* ConnectSlave           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structmdragon_1_1_bt_host.html">BtHost</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>remote_host</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Starts connection establishement. 
<p>
Tries to establish connection to remote device. Returns pointer to created <a class="el" href="classmdragon_1_1_i_bt_connection.html">IBtConnection</a> object. This connection object will be in connecting state. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>remote_host</em>&nbsp;</td><td>- address of host to connect. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>pointer to <a class="el" href="classmdragon_1_1_i_bt_connection.html">IBtConnection</a> object or NULL on failure.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a5"></a><!-- doxytag: member=<mdragon::BtNetwork::GetDiscoveredSlaves> ref=<a5> args=<(vector&lt; BtHost &gt; *hosts)> --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Bool GetDiscoveredSlaves           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classmdragon_1_1vector.html">vector</a>&lt; <a class="el" href="structmdragon_1_1_bt_host.html">BtHost</a> &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>hosts</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enumerates hosts, found during slave discovery. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hosts</em>&nbsp;</td><td>pointer to vector of <a class="el" href="structmdragon_1_1_bt_host.html">BtHost</a> objects to fill with addresses of found hosts. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>False if host discovery is pending, True on completion.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a6"></a><!-- doxytag: member=<mdragon::BtNetwork::GetInboundConnection> ref=<a6> args=<()> --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classmdragon_1_1_i_bt_connection.html">IBtConnection</a>* GetInboundConnection           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Retrives inbound connection. 
<p>
Available only in slave mode. Returns pointer to new connection object if there was an inbound connection from master accepted or NULL if there is no an inbound connection accepted or there is already one active connection. Note, that slave can have only one active connection, so before another connection can be accepted, active connection must be explicitly closed with CloseConnection. <dl compact><dt><b>Returns:</b></dt><dd>pointer to newly created BtConnection oject or NULL.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a1"></a><!-- doxytag: member=<mdragon::BtNetwork::Init> ref=<a1> args=<(const BtUUID *app_uuid)> --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Bool Init           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structmdragon_1_1_bt_u_u_i_d.html">BtUUID</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>app_uuid</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initializes bluetooth. 
<p>
Must be called before any other use of <a class="el" href="classmdragon_1_1_bt_network.html">BtNetwork</a> class. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>app_uuid</em>&nbsp;</td><td>- pointer to <a class="el" href="structmdragon_1_1_bt_u_u_i_d.html">BtUUID</a> object, unique application service identifier. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True on success, False on failure.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a10"></a><!-- doxytag: member=<mdragon::BtNetwork::IsShutdownComplete> ref=<a10> args=<()> --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Bool IsShutdownComplete           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Verifies if bluetooth system shutdown is finished. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>True if system shutdown is finished, False otherwise.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a4"></a><!-- doxytag: member=<mdragon::BtNetwork::StartDiscoverSlaves> ref=<a4> args=<()> --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Bool StartDiscoverSlaves           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Starts slave devices discovery sequence. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>True if discovery is pending, False on failure.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a3"></a><!-- doxytag: member=<mdragon::BtNetwork::StartMaster> ref=<a3> args=<()> --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Bool StartMaster           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Switches bluetooth into master mode. 
<p>
Master can perform device discovery and establish connections to slave devices. <dl compact><dt><b>Returns:</b></dt><dd>True on success, False on failure.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a9"></a><!-- doxytag: member=<mdragon::BtNetwork::StartShutdown> ref=<a9> args=<()> --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void StartShutdown           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Starts bluetooth system shutdown. 
<p>
This process can take some time. Call <a class="el" href="classmdragon_1_1_bt_network.html#a10">IsShutdownComplete()</a> to ensure that bluetooth system shutdown is complete.    </td>
  </tr>
</table>
<a class="anchor" name="a2"></a><!-- doxytag: member=<mdragon::BtNetwork::StartSlave> ref=<a2> args=<()> --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Bool StartSlave           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Switches bluetooth into slave mode. 
<p>
Slave registers application in bluetooth SDP and begins listening for inbound connections. <dl compact><dt><b>Returns:</b></dt><dd>True on success, False on failure.</dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="btnetwork_8h.html">btnetwork.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Mon Aug 7 14:45:45 2006 for MobileDragon reference manual. by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.3 </small></address>
</body>
</html>
